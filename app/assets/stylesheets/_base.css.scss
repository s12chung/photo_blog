@import 'bourbon';
$max-width: em(760, 30);
@import 'neat';
@import 'patterns';

$ink: rgba(36,30,32,0.9);
$ink_light: rgba(36,30,32,0.8);
$light: rgba(36,30,32,0.1);
$ink_red: rgba(161,34,0,0.8);
$background_ink: white;

$serif: 'arno-pro', Palatino, "Palatino Linotype", "Palatino LT STD", "Book Antiqua", "Times New Roman", Times, serif;
$sans-serif: "museo-sans", Futura, "Trebuchet MS", Arial, sans-serif;
$normal: 400;
$semibold: 600;

$transition_speed: 400ms ease 0s;

$small: 0.7em;
$base_font_size: 30px;
$heading: 2em;
$huge: 1.8em;

$p_margin: 1.1em;
$p_huge_margin: 0.3em;

$huge_desktop: 2.2em;
$p_margin_desktop: 1.3em;
$p_huge_margin_desktop: 0.5em;

$outter_margin: 10px;
$outter_padding: 1em;
$comment_dimensions: 1.5em;

@mixin phone { @media only screen and (max-device-width: 767px) { @content; } }

@mixin paper_background {
  background: image-url("background.png") repeat scroll 0% 0% transparent;
}

@mixin base {
  font-size: $base_font_size;
  line-height: 1.5;
  font-family: $serif;
  font-weight: $normal;

  color: $ink;
  @include paper_background;

  h2,
  h3 {
    font-weight: $normal;
  }

  h1 {
    transition: opacity $transition_speed;
    &:hover {
      opacity: 0.7;
    }
  }

  h1 {
    font-size: 1.7em;
    margin: .4em 0;
  }

  h2,
  h3 {
    font-size: $heading;
    margin: 0;
  }

  a {
    text-decoration: none;
    color: $ink_red;

    &:hover {
      text-decoration: underline;
    }
  }

  strong {
    font-weight: $semibold;
  }

  blockquote {
    font-style: italic;
    margin: 0;
    @include clearfix;
    position: relative;
    padding: 0 1em;

    @include phone {
      margin: 2em 0;
    }

    &::before {
      content: "\201C";
      color: $light;
      z-index: -1;

      position: absolute;
      font-size: 8em;
      top: 0.23em;
      left: -0.2em;
    }

    p {
      &:first-child {
        margin-top: $p_margin + 1em;
      }
      &:last-of-type {
        margin-bottom: 0.3em;
      }
      &:last-child {
        margin-bottom: $p_margin;
      }

      &.huge {
        margin-top: $p_huge_margin + 0.6em;

        &:last-of-type {
          margin-bottom: 0.1em;
        }
        &:last-child {
          margin-bottom: $p_huge_margin;
        }
      }
    }

    cite {
      font-style: normal;
      float: right;
    }
  }
  p {
    margin: $p_margin 0;
  }

  p.huge,
  .huge p {
    margin: $p_huge_margin 0;
    font-size: $huge;
    font-style: italic;
    line-height: 1.2;
  }
}

@mixin backgrounded {
  &,
  a {
    color: $background_ink;
    text-shadow: 0 0 0.5em black,0 -1px 1px rgba(0,0,0,0.6);
    -webkit-font-smoothing: antialiased;
  }
}